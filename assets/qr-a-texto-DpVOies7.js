import"./app-BdQz8fMo.js";import{j as s}from"./jsQR-CSv-k2tR.js";window.jsQR=s;function c(t){return t.includes("http://")||t.includes("https://")||t.includes("www.")}function d(t,a=!1){let e;return a?(e=document.createElement("a"),e.href=t,e.textContent=t,e.className="underline text-primary font-bold"):(e=document.createElement("span"),e.textContent=t,e.className="font-bold"),e}function l(t,a="error"){let e={error:"text-error leading-none",exito:"text-success leading-none"},n=document.getElementById("reporte");n.textContent=t,n.className=e[a]}function m(t,a,e){let n=jsQR(t,a,e);if(!n)return l("¡No fue posible decodificar la imagen!"),!1;n.data;let i=document.getElementById("resultado"),o;for(let r=0;r<i.children.length;r++)i.removeChild(i.children[r]);c(n.data)?o=d(n.data,!0):o=d(n.data),i.appendChild(o)}window.onload=()=>{let t=document.getElementById("archivo");t.addEventListener("change",()=>{t.files.length&&(t.files[0].type.startsWith("image/")?l("¡Archivo imagen seleccionado!","exito"):l("¡Solo archivos de imagen son permitidos!"))}),document.getElementById("boton").addEventListener("click",()=>{if(t.files.length)if(t.files[0].type.startsWith("image/")){let a=new FileReader;a.onload=()=>{let e=new Image;e.onload=()=>{let n=document.createElement("canvas").getContext("2d");n.drawImage(e,0,0);let i=n.getImageData(0,0,e.width,e.height);m(new Uint8ClampedArray(i.data),e.width,e.height)},e.src=a.result},a.readAsDataURL(t.files[0])}else l("¡Solo archivos de imagen son permitidos!");else l("¡Debe seleccionar un archivo imagen para realizar la conversión!")})};
